# Create the .env file
cat > apps/api/.env << 'EOF'
# =============================================================================
# Alpha Seeker API Configuration
# =============================================================================

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL="postgresql://postgres:password@localhost:5432/alpha_seeker?schema=public"

# =============================================================================
# REDIS CONFIGURATION (Required for Message Queue & Leaderboard)
# =============================================================================
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_PASSWORD=""
REDIS_DATABASE="0"

# =============================================================================
# EXTERNAL API KEYS
# =============================================================================
# Dune Analytics API Key (for historical data)
DUNE_API_KEY="your_dune_api_key_here"

# Chainstack Yellowstone gRPC Configuration (for real-time streaming)
YELLOWSTONE_GRPC_ENDPOINT="yellowstone-solana-mainnet.core.chainstack.com"
YELLOWSTONE_X_TOKEN="your_chainstack_token_here"
YELLOWSTONE_USERNAME="your_chainstack_username"
YELLOWSTONE_PASSWORD="your_chainstack_password"

# Chainstack API Key (alternative authentication)
CHAINSTACK_API_KEY="your_chainstack_api_key_here"

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=3001
NODE_ENV="development"
HOST="localhost"

# =============================================================================
# LEADERBOARD CONFIGURATION
# =============================================================================
LEADERBOARD_DEFAULT_LIMIT=100
LEADERBOARD_MAX_LIMIT=500
LEADERBOARD_CACHE_TTL_MINUTES=15

# =============================================================================
# WALLET TRACKING CONFIGURATION
# =============================================================================
WALLET_TRACKER_DEFAULT_COUNT=50
WALLET_TRACKER_MAX_COUNT=200
WALLET_TRACKER_DEFAULT_TIMEFRAME="7d"

# =============================================================================
# CHAINSTACK GEYSER LIMITS ($149/month plan)
# =============================================================================
GEYSER_MAX_ACCOUNTS_PER_STREAM=50
GEYSER_MAX_CONCURRENT_STREAMS=5
GEYSER_RECONNECT_MAX_ATTEMPTS=5
GEYSER_PING_INTERVAL_MS=10000

# =============================================================================
# FEATURE TOGGLES
# =============================================================================
ENABLE_KOL_TRADERS="true"
ENABLE_REAL_TIME_TRACKING="true"
ENABLE_DUNE_INTEGRATION="true"
USE_MOCK_DATA="true"
PRIORITIZE_GEYSER_DATA="true"

# =============================================================================
# CRON SCHEDULES
# =============================================================================
LEADERBOARD_REFRESH_CRON="0 2 * * *"
DUNE_REFRESH_CRON="0 2 * * *"
